<div class="w-full h-full flex flex-col gap-2">
    <div class="w-full flex flex-row justify-between items-center">
        <h2>Sesión</h2>
        <h2>Perico de los Palotes</h2>
        <h2>Fecha: 15/10/2025</h2>
        <h2>Entrevista: 4</h2>
        <h2>Localizacion: Oficina</h2>
        <h2>54 min</h2>
    </div>
    <div class="w-full">
        <label for="goal" class="block mb-1">Objetivo</label>
        <input pInputText id="goal"
            class="w-full bg-surface-100 px-4 border border-surface rounded-border focus:outline-none focus:border-primary" value="Decidir siguiente paso">
    </div>
    <div class="w-full flex flex-col flex-1">
        <label for="details" class="block mb-1">Desarrollo de la sesión</label>
        <p-table [value]="detailOptions()" selectionMode="single" [(selection)]="selectedDetail" dataKey="id"
            scrollHeight="flex" class="h-full bg-surface-100 border border-surface rounded-border" id="details">
            <ng-template pTemplate="body" let-detail>
                <tr [pSelectableRow]="detail">
                    <td>{{ detail.date | date: 'HH:mm'}}</td>
                    <td>{{ detail.type }}</td>
                    <td>{{ detail.text }}</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
    <div class="w-full">
        <label for="tasks" class="block mb-1">Tareas para la siguiente</label>
        <!-- <p-listbox [options]="taskOptions()" [ngModel]="selectedTask()" optionLabel="name" id="tasks" class="w-full">
        </p-listbox> -->
        <p-table [value]="taskOptions()" selectionMode="single" [(selection)]="selectedTask" dataKey="id"
            scrollHeight="flex" class="bg-surface-100 border border-surface rounded-border" id="details">
            <ng-template pTemplate="body" let-task>
                <tr [pSelectableRow]="task">
                    <td>{{ task.text }}</td>
                    <td>{{ task.scheduled | date: 'dd/MM HH:mm'}}</td>
                    <td>{{ task.score + "/10"}}</td>
                </tr>
            </ng-template>
        </p-table>        
    </div>
    <div class="w-full">
        <label for="input" class="block mb-1">Introducir datos</label>
        <p-selectbutton [options]="stateOptions" [ngModel]="value" optionLabel="label" optionValue="value"
            aria-labelledby="basic" />
        <textarea id="input" rows="2" pTextarea class="w-full">Escribiendo texto...</textarea>
    </div>
</div>